void 0===window.Canvas&&(window.Canvas=function(t,i,s){this.uid=t,this.el=document.createElement("canvas"),this.el.id=this.uid,this.el.width=this.width=i,this.el.height=this.height=s,this.cw=0,this.ch=0,this.aspect=i/s,this.ctx=this.el.getContext("2d"),document.body.appendChild(this.el)},window.Canvas.prototype.set=function(t){var i=this.ctx.getImageData(0,0,this.width,this.height);i.data.set(t),this.ctx.putImageData(i,0,0)},window.Canvas.prototype.bounds=function(t,i,s,h){this.el.style.marginLeft=(t>>0)+"px",this.el.style.marginTop=(i>>0)+"px",this.el.style.width=(s>>0)+"px",this.el.style.height=(h>>0)+"px"},window.Canvas.prototype.resize=function(t,i){if(this.cw!=t||this.ch!=i){if(this.cw=t,this.ch=i,Math.abs(t/i-this.aspect)<=.04)this.bounds(0,0,t,i);else if(t/i>this.aspect){var s=i*this.aspect;this.height>this.width?this.bounds(.05*s+.5*(t-s),.05*i-2,.9*s,.9*i):this.bounds(.07*s+.5*(t-s),.07*i-2,.86*s,.86*i)}else{var h=t/this.aspect;this.height>this.width?this.bounds(.07*t,.07*h+.5*(i-h)-2,.86*t,.86*h):this.bounds(.05*t,.05*h+.5*(i-h)-2,.9*t,.9*h)}return 1}return 0});